<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Solana AI Agent - Dashboard</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.js"></script>
</head>
<body>
  <div class="container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="logo">
        <img src="solana-logo.svg" alt="Solana Logo">
        <h1>Solana AI Agent</h1>
      </div>
      <nav>
        <ul>
          <li class="active" data-panel="dashboard"><span class="icon">📊</span> Dashboard</li>
          <li data-panel="wallet"><span class="icon">👛</span> Wallet</li>
          <li data-panel="swap"><span class="icon">🔄</span> Swap</li>
          <li data-panel="tokens"><span class="icon">🪙</span> Tokens</li>
          <li data-panel="analytics"><span class="icon">📈</span> Analytics</li>
          <li data-panel="assistant"><span class="icon">🤖</span> AI Assistant</li>
        </ul>
      </nav>
      <div class="connection-status">
        <span class="status-dot connected"></span>
        <span class="status-text">Connected to Mainnet</span>
      </div>
    </aside>

    <!-- Main content -->
    <main class="main-content">
      <!-- Header with search -->
      <header>
        <div class="search-container">
          <input type="text" id="search-input" placeholder="Search by address, token, or transaction...">
          <button id="search-button">Search</button>
        </div>
        <div class="wallet-connect">
          <button id="connect-wallet">Connect Wallet</button>
        </div>
      </header>

      <!-- Dynamic content panels -->
      <div class="panels">
        <!-- Dashboard Panel -->
        <div class="panel active" id="dashboard-panel">
          <h2>Network Overview</h2>
          <div class="stats-grid">
            <div class="stat-card">
              <h3>SOL Price</h3>
              <p class="stat-value" id="sol-price">$--</p>
              <p class="stat-change positive" id="sol-change">+0.00%</p>
            </div>
            <div class="stat-card">
              <h3>TPS</h3>
              <p class="stat-value" id="current-tps">-- tps</p>
              <p class="stat-detail" id="tps-detail">24h avg: -- tps</p>
            </div>
            <div class="stat-card">
              <h3>Slot Height</h3>
              <p class="stat-value" id="slot-height">--</p>
              <p class="stat-detail" id="slot-time">Last: --</p>
            </div>
            <div class="stat-card">
              <h3>Market Cap</h3>
              <p class="stat-value" id="market-cap">$--</p>
              <p class="stat-detail">Rank: #--</p>
            </div>
          </div>

          <div class="chart-row">
            <div class="chart-container">
              <h3>Network Activity</h3>
              <canvas id="network-chart"></canvas>
            </div>
            <div class="chart-container">
              <h3>SOL Price (24h)</h3>
              <canvas id="price-chart"></canvas>
            </div>
          </div>

          <h2>Trending Tokens</h2>
          <div class="table-container">
            <table id="trending-tokens">
              <thead>
                <tr>
                  <th>Token</th>
                  <th>Price</th>
                  <th>Change (24h)</th>
                  <th>Volume (24h)</th>
                  <th>Market Cap</th>
                </tr>
              </thead>
              <tbody>
                <!-- Token rows will be dynamically inserted here -->
                <tr class="loading-row">
                  <td colspan="5">Loading trending tokens...</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- Wallet Panel -->
        <div class="panel" id="wallet-panel">
          <div class="wallet-header">
            <h2>Wallet Overview</h2>
            <div class="wallet-address-container">
              <span class="wallet-address" id="displayed-wallet-address">Connect wallet to view</span>
              <button class="copy-button" id="copy-address" disabled>Copy</button>
            </div>
          </div>
          
          <div class="wallet-summary">
            <div class="balance-card">
              <h3>Total Value</h3>
              <p class="balance-value" id="total-value">$--</p>
            </div>
            <div class="balance-card">
              <h3>SOL Balance</h3>
              <p class="balance-value" id="sol-balance">-- SOL</p>
              <p class="balance-value-usd" id="sol-balance-usd">$--</p>
            </div>
            <div class="balance-card">
              <h3>Tokens</h3>
              <p class="balance-value" id="token-count">--</p>
            </div>
            <div class="balance-card">
              <h3>NFTs</h3>
              <p class="balance-value" id="nft-count">--</p>
            </div>
          </div>

          <h3>Token Holdings</h3>
          <div class="table-container">
            <table id="token-holdings">
              <thead>
                <tr>
                  <th>Token</th>
                  <th>Balance</th>
                  <th>Value (USD)</th>
                  <th>Price</th>
                  <th>Change (24h)</th>
                </tr>
              </thead>
              <tbody>
                <!-- Token holdings will be dynamically inserted here -->
                <tr class="loading-row">
                  <td colspan="5">Connect wallet to view token holdings</td>
                </tr>
              </tbody>
            </table>
          </div>

          <h3>Recent Transactions</h3>
          <div class="table-container">
            <table id="recent-transactions">
              <thead>
                <tr>
                  <th>Signature</th>
                  <th>Type</th>
                  <th>Status</th>
                  <th>Age</th>
                  <th>Fee</th>
                </tr>
              </thead>
              <tbody>
                <!-- Recent transactions will be dynamically inserted here -->
                <tr class="loading-row">
                  <td colspan="5">Connect wallet to view transactions</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- Swap Panel -->
        <div class="panel" id="swap-panel">
          <h2>Token Swap</h2>
          <div class="swap-container">
            <div class="swap-card">
              <div class="swap-input">
                <div class="swap-header">
                  <span>From</span>
                  <span class="max-button">MAX</span>
                </div>
                <div class="token-input-container">
                  <input type="number" id="swap-from-amount" placeholder="0.0" step="any">
                  <button class="token-select" id="swap-from-token">
                    <img src="sol-icon.svg" id="swap-from-icon" alt="SOL">
                    <span id="swap-from-symbol">SOL</span>
                    <span class="dropdown-arrow">▼</span>
                  </button>
                </div>
                <div class="balance-display">
                  <span>Balance: <span id="swap-from-balance">-- SOL</span></span>
                </div>
              </div>

              <button class="swap-direction-button">
                <span class="swap-icon">↓↑</span>
              </button>

              <div class="swap-input">
                <div class="swap-header">
                  <span>To</span>
                </div>
                <div class="token-input-container">
                  <input type="number" id="swap-to-amount" placeholder="0.0" disabled>
                  <button class="token-select" id="swap-to-token">
                    <img src="usdc-icon.svg" id="swap-to-icon" alt="USDC">
                    <span id="swap-to-symbol">USDC</span>
                    <span class="dropdown-arrow">▼</span>
                  </button>
                </div>
                <div class="balance-display">
                  <span>Balance: <span id="swap-to-balance">-- USDC</span></span>
                </div>
              </div>

              <div class="swap-details">
                <div class="detail-row">
                  <span>Rate</span>
                  <span id="swap-rate">1 SOL = -- USDC</span>
                </div>
                <div class="detail-row">
                  <span>Price Impact</span>
                  <span id="swap-price-impact" class="positive">--</span>
                </div>
                <div class="detail-row">
                  <span>Minimum Received</span>
                  <span id="swap-min-received">-- USDC</span>
                </div>
                <div class="detail-row">
                  <span>Route</span>
                  <span id="swap-route">Jupiter Aggregator</span>
                </div>
              </div>

              <button class="swap-button" id="execute-swap" disabled>Connect Wallet to Swap</button>
            </div>

            <div class="routes-card">
              <h3>Available Routes</h3>
              <div class="routes-list" id="swap-routes">
                <p class="no-routes">Enter an amount to see available routes</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Tokens Panel -->
        <div class="panel" id="tokens-panel">
          <h2>Token Explorer</h2>
          
          <div class="token-categories">
            <button class="category-button active" data-category="popular">Popular</button>
            <button class="category-button" data-category="trending">Trending</button>
            <button class="category-button" data-category="gainers">Top Gainers</button>
            <button class="category-button" data-category="losers">Top Losers</button>
            <button class="category-button" data-category="new">New Listings</button>
          </div>
          
          <div class="table-container">
            <table id="tokens-table">
              <thead>
                <tr>
                  <th>Rank</th>
                  <th>Token</th>
                  <th>Price</th>
                  <th>Change (24h)</th>
                  <th>Volume (24h)</th>
                  <th>Market Cap</th>
                  <th>Risk Score</th>
                </tr>
              </thead>
              <tbody>
                <!-- Token rows will be dynamically inserted here -->
                <tr class="loading-row">
                  <td colspan="7">Loading tokens...</td>
                </tr>
              </tbody>
            </table>
          </div>
          
          <div id="token-detail-view" class="hidden">
            <div class="token-detail-header">
              <button class="back-button">← Back to List</button>
              <div class="token-title">
                <img id="detail-token-icon" src="" alt="Token icon">
                <h2 id="detail-token-name">Token Name</h2>
                <span class="token-symbol" id="detail-token-symbol">TKN</span>
              </div>
              <div class="token-price-container">
                <span class="token-price" id="detail-token-price">$0.00</span>
                <span class="token-change" id="detail-token-change">0.00%</span>
              </div>
            </div>
            
            <div class="token-detail-content">
              <div class="token-chart-container">
                <div class="chart-timeframes">
                  <button data-timeframe="24h" class="active">24H</button>
                  <button data-timeframe="7d">7D</button>
                  <button data-timeframe="30d">30D</button>
                  <button data-timeframe="90d">90D</button>
                  <button data-timeframe="1y">1Y</button>
                  <button data-timeframe="all">ALL</button>
                </div>
                <canvas id="token-price-chart"></canvas>
              </div>
              
              <div class="token-stats-container">
                <div class="token-stat-row">
                  <div class="token-stat">
                    <h4>Market Cap</h4>
                    <p id="detail-market-cap">$--</p>
                  </div>
                  <div class="token-stat">
                    <h4>24h Volume</h4>
                    <p id="detail-volume">$--</p>
                  </div>
                  <div class="token-stat">
                    <h4>Circulating Supply</h4>
                    <p id="detail-supply">--</p>
                  </div>
                </div>
                <div class="token-stat-row">
                  <div class="token-stat">
                    <h4>All-Time High</h4>
                    <p id="detail-ath">$-- <span>on --</span></p>
                  </div>
                  <div class="token-stat">
                    <h4>All-Time Low</h4>
                    <p id="detail-atl">$-- <span>on --</span></p>
                  </div>
                  <div class="token-stat">
                    <h4>Token Age</h4>
                    <p id="detail-age">-- days</p>
                  </div>
                </div>
              </div>
              
              <div class="token-risk-analysis">
                <h3>Risk Analysis</h3>
                <div class="risk-meter-container">
                  <div class="risk-meter">
                    <div class="risk-track">
                      <div class="risk-indicator" id="risk-indicator" style="left: 50%;"></div>
                    </div>
                    <div class="risk-labels">
                      <span>Low</span>
                      <span>Medium</span>
                      <span>High</span>
                    </div>
                  </div>
                  <div class="overall-risk-score">
                    <h4>Overall Risk</h4>
                    <p id="overall-risk-score">50/100</p>
                  </div>
                </div>
                
                <div class="risk-factors">
                  <div class="risk-factor">
                    <h4>Concentration Risk</h4>
                    <div class="risk-bar-container">
                      <div class="risk-bar" id="concentration-risk-bar" style="width: 50%;"></div>
                    </div>
                    <p class="risk-score" id="concentration-risk-score">50/100</p>
                  </div>
                  <div class="risk-factor">
                    <h4>Liquidity Risk</h4>
                    <div class="risk-bar-container">
                      <div class="risk-bar" id="liquidity-risk-bar" style="width: 30%;"></div>
                    </div>
                    <p class="risk-score" id="liquidity-risk-score">30/100</p>
                  </div>
                  <div class="risk-factor">
                    <h4>Age Risk</h4>
                    <div class="risk-bar-container">
                      <div class="risk-bar" id="age-risk-bar" style="width: 70%;"></div>
                    </div>
                    <p class="risk-score" id="age-risk-score">70/100</p>
                  </div>
                </div>
              </div>
              
              <div class="token-action-buttons">
                <button class="action-button" id="add-to-watchlist">Add to Watchlist</button>
                <button class="action-button primary" id="swap-this-token">Swap Token</button>
                <a href="#" class="action-button" id="explorer-link" target="_blank">View on Explorer</a>
              </div>
            </div>
          </div>
        </div>

        <!-- Analytics Panel -->
        <div class="panel" id="analytics-panel">
          <h2>Analytics Dashboard</h2>
          
          <div class="chart-grid">
            <div class="chart-card">
              <h3>Transaction Volume</h3>
              <canvas id="tx-volume-chart"></canvas>
            </div>
            <div class="chart-card">
              <h3>Active Addresses</h3>
              <canvas id="active-addresses-chart"></canvas>
            </div>
            <div class="chart-card">
              <h3>Network TPS</h3>
              <canvas id="tps-chart"></canvas>
            </div>
            <div class="chart-card">
              <h3>Daily SOL Price</h3>
              <canvas id="daily-price-chart"></canvas>
            </div>
          </div>
          
          <h3>Top Protocols by TVL</h3>
          <div class="table-container">
            <table id="tvl-table">
              <thead>
                <tr>
                  <th>Rank</th>
                  <th>Protocol</th>
                  <th>Category</th>
                  <th>TVL (USD)</th>
                  <th>Change (24h)</th>
                  <th>Share</th>
                </tr>
              </thead>
              <tbody>
                <!-- TVL data will be dynamically inserted here -->
                <tr class="loading-row">
                  <td colspan="6">Loading TVL data...</td>
                </tr>
              </tbody>
            </table>
          </div>
          
          <div class="analytics-cards">
            <div class="analytics-card">
              <h3>Ecosystem Stats</h3>
              <div class="stat-item">
                <span class="stat-label">Total Validators</span>
                <span class="stat-value" id="validator-count">--</span>
              </div>
              <div class="stat-item">
                <span class="stat-label">Total Accounts</span>
                <span class="stat-value" id="account-count">--</span>
              </div>
              <div class="stat-item">
                <span class="stat-label">Total Programs</span>
                <span class="stat-value" id="program-count">--</span>
              </div>
              <div class="stat-item">
                <span class="stat-label">Nakamoto Coefficient</span>
                <span class="stat-value" id="nakamoto-coef">--</span>
              </div>
            </div>
            
            <div class="analytics-card">
              <h3>Network Health</h3>
              <div class="health-gauge">
                <svg viewBox="0 0 100 50" class="gauge">
                  <path class="gauge-background" d="M10,50 A40,40 0 1,1 90,50" />
                  <path class="gauge-value" id="health-gauge" d="M10,50 A40,40 0 1,1 90,50" />
                  <text x="50" y="60" text-anchor="middle" id="health-percentage">98%</text>
                </svg>
                <p class="health-description">Excellent network health with high uptime and stable TPS.</p>
              </div>
            </div>
          </div>
        </div>

        <!-- AI Assistant Panel -->
        <div class="panel" id="assistant-panel">
          <h2>AI Assistant</h2>
          
          <div class="assistant-container">
            <div class="conversation-container" id="conversation">
              <div class="message system">
                <div class="message-content">
                  <p>Hello! I'm your Solana AI assistant. I can help you analyze the Solana blockchain, provide insights on tokens, and execute tasks like swaps or wallet analysis. What would you like to do today?</p>
                </div>
              </div>
              <!-- Conversation messages will appear here -->
            </div>
            
            <div class="input-container">
              <textarea id="user-input" placeholder="Ask me anything about Solana..."></textarea>
              <div class="input-buttons">
                <button id="clear-chat">Clear</button>
                <button id="send-message">Send</button>
              </div>
            </div>
          </div>
          
          <div class="quick-commands">
            <h3>Quick Commands</h3>
            <div class="command-buttons">
              <button class="command-button" data-command="Show me trending tokens">Show trending tokens</button>
              <button class="command-button" data-command="Analyze SOL price trends">Analyze SOL price</button>
              <button class="command-button" data-command="What's the network status?">Network status</button>
              <button class="command-button" data-command="Show me how to swap tokens">How to swap</button>
              <button class="command-button" data-command="Explain liquidity pools">Explain liquidity</button>
              <button class="command-button" data-command="Analyze my wallet">Analyze my wallet</button>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Token selection modal -->
  <div class="modal" id="token-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Select Token</h3>
        <button class="close-modal">&times;</button>
      </div>
      <div class="modal-body">
        <div class="token-search">
          <input type="text" id="token-search" placeholder="Search token name or address...">
        </div>
        <div class="token-list" id="token-selection-list">
          <!-- Token list will be dynamically generated here -->
        </div>
      </div>
    </div>
  </div>

  <!-- Loading overlay -->
  <div class="loading-overlay" id="loading-overlay">
    <div class="loader"></div>
    <p id="loading-message">Loading Solana AI Agent...</p>
  </div>

  <script src="app.js"></script>
</body>
</html>
